<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Cây tình yêu & Trái tim</title>
<style>
    body {
        background: linear-gradient(to top, #ffb6c1, #fff0f5);
        font-family: Arial, sans-serif;
        text-align: center;
        overflow: hidden;
        margin: 0;
    }
    .tree-container {
        position: relative;
        margin-top: 80px;
        height: 500px;
    }
    /* Thân cây */
    .trunk {
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 40px;
        height: 0;
        background: linear-gradient(to top, #8b5a2b, #d2b48c);
        transform: translateX(-50%);
        transition: height 2s ease;
        border-radius: 10px;
        box-shadow: inset 0 0 15px rgba(0,0,0,0.2);
        z-index: 1;
    }
    /* Cành cây */
    .branch {
        position: absolute;
        background: linear-gradient(to right, #8b5a2b, #d2b48c);
        height: 15px;
        width: 0;
        border-radius: 5px;
        transform-origin: left center;
        transition: width 1.5s ease;
        z-index: 1;
        box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    }
    .branch-left { transform: rotate(-30deg); }
    .branch-right { transform: rotate(30deg); }
    /* Lá */
    .leaf {
        position: absolute;
        border-radius: 50%;
        opacity: 0;
        transform: scale(0);
        transition: all 1s ease;
        z-index: 0;
        animation: sway 3s ease-in-out infinite;
    }
    .leaf-green {
        background: radial-gradient(circle at 30% 30%, #8fbc8f, #2e8b57);
        box-shadow: 0 0 8px rgba(46, 139, 87, 0.3);
    }
    .leaf-pink {
        background: radial-gradient(circle at 30% 30%, #ffb6c1, #ff69b4);
        box-shadow: 0 0 8px rgba(255, 105, 180, 0.4);
    }
    @keyframes sway {
        0% { transform: rotate(0deg) scale(1); }
        50% { transform: rotate(3deg) scale(1.05); }
        100% { transform: rotate(0deg) scale(1); }
    }
    /* Ảnh chạy từ hai bên */
    .image-left, .image-right {
        position: absolute;
        top: 65%;
        width: 150px;
        border-radius: 15px;
        filter: drop-shadow(0 5px 10px rgba(255, 105, 180, 0.4));
        opacity: 0;
        transform: scale(0.8);
        transition: all 1.5s ease-out;
        z-index: 2;
    }
    .image-left { left: -200px; }
    .image-right { right: -200px; }
    .show-left {
        left: calc(50% - 200px);
        opacity: 1;
        transform: scale(1) rotate(2deg);
    }
    .show-right {
        right: calc(50% - 200px);
        opacity: 1;
        transform: scale(1) rotate(-2deg);
    }
    /* Canvas trái tim */
    #heartCanvas {
        position: absolute;
        top: 65%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
        z-index: 2;
        animation: heartShow 2s forwards;
    }
    @keyframes heartShow {
        0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5);}
        50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1);}
        100% { opacity: 1; transform: translate(-50%, -50%) scale(1);}
    }
    /* Bong bóng bay */
    .heart {
        position: absolute;
        bottom: -50px;
        width: 30px;
        height: 30px;
        background: red;
        transform: rotate(45deg);
        animation: float 6s linear forwards;
    }
    .heart::before, .heart::after {
        content: '';
        position: absolute;
        width: 30px;
        height: 30px;
        background: red;
        border-radius: 50%;
    }
    .heart::before { top: -15px; left: 0; }
    .heart::after { left: -15px; top: 0; }
    @keyframes float {
        0% { transform: translateY(0) rotate(45deg); opacity: 1;}
        100% { transform: translateY(-700px) rotate(45deg); opacity: 0;}
    }
</style>
</head>
<body>

<div class="tree-container">
    <div class="trunk" id="trunk"></div>

    <!-- Cành trái -->
    <div class="branch branch-left" id="branchLeft" style="top:200px; left:calc(50% - 15px);"></div>
    <div class="branch branch-left" id="branchLeftTop" style="top:300px; left:calc(50% - 15px); transform:rotate(-40deg);"></div>

    <!-- Lá cành trái -->
    <div class="leaf leaf-green" id="leafLeft1" style="top:170px; left:calc(50% - 130px); width:40px; height:40px;"></div>
    <div class="leaf leaf-pink" id="leafLeft2" style="top:150px; left:calc(50% - 90px); width:50px; height:50px;"></div>
    <div class="leaf leaf-green" id="leafLeft3" style="top:270px; left:calc(50% - 140px); width:45px; height:45px;"></div>

    <!-- Cành phải -->
    <div class="branch branch-right" id="branchRight" style="top:230px; left:50%;"></div>
    <div class="branch branch-right" id="branchRightTop" style="top:330px; left:50%; transform:rotate(40deg);"></div>

    <!-- Lá cành phải -->
    <div class="leaf leaf-pink" id="leafRight1" style="top:200px; left:calc(50% + 80px); width:50px; height:50px;"></div>
    <div class="leaf leaf-green" id="leafRight2" style="top:180px; left:calc(50% + 110px); width:40px; height:40px;"></div>
    <div class="leaf leaf-pink" id="leafRight3" style="top:300px; left:calc(50% + 120px); width:45px; height:45px;"></div>

    <!-- Tán trên -->
    <div class="leaf leaf-green" id="leafTop1" style="top:80px; left:calc(50% - 60px); width:60px; height:60px;"></div>
    <div class="leaf leaf-pink" id="leafTop2" style="top:60px; left:calc(50% + 20px); width:55px; height:55px;"></div>
    <div class="leaf leaf-green" id="leafTop3" style="top:90px; left:calc(50% - 20px); width:65px; height:65px;"></div>
</div>

<!-- Hai ảnh -->
<img src="image/vaytrang.jpg" class="image-left" id="imgLeft" alt="Ảnh trái">
<img src="image/haihoa.jpg" class="image-right" id="imgRight" alt="Ảnh phải">

<!-- Canvas trái tim -->
<canvas id="heartCanvas" width="200" height="200"></canvas>

<script>
// Vẽ trái tim to
const ctx = document.getElementById('heartCanvas').getContext('2d');
function drawHeart(scale = 1) {
    ctx.clearRect(0,0,200,200);
    ctx.save();
    ctx.translate(100, 100);
    ctx.scale(scale, scale);
    ctx.beginPath();
    ctx.moveTo(0, -40);
    ctx.bezierCurveTo(50, -80, 100, -20, 0, 60);
    ctx.bezierCurveTo(-100, -20, -50, -80, 0, -40);
    ctx.closePath();
    ctx.fillStyle = 'red';
    ctx.shadowColor = 'rgba(255,0,0,0.5)';
    ctx.shadowBlur = 20;
    ctx.fill();
    ctx.restore();
}
let t = 0;
function animateHeart() {
    let scale = 1 + 0.05 * Math.sin(t);
    drawHeart(scale);
    t += 0.1;
    requestAnimationFrame(animateHeart);
}
setTimeout(() => {
    document.getElementById("heartCanvas").style.opacity = "1";
    animateHeart();
}, 8000);

// Cây mọc
setTimeout(() => { document.getElementById("trunk").style.height = "350px"; }, 500);
// Cành trái
setTimeout(() => { document.getElementById("branchLeft").style.width = "120px"; }, 2500);
setTimeout(() => { document.getElementById("branchLeftTop").style.width = "100px"; }, 3000);
setTimeout(() => {
    ["leafLeft1","leafLeft2","leafLeft3"].forEach(id=>{
        const leaf = document.getElementById(id);
        leaf.style.opacity = "1";
        leaf.style.transform = "scale(1)";
    });
}, 3500);
// Cành phải
setTimeout(() => { document.getElementById("branchRight").style.width = "120px"; }, 4000);
setTimeout(() => { document.getElementById("branchRightTop").style.width = "100px"; }, 4500);
setTimeout(() => {
    ["leafRight1","leafRight2","leafRight3"].forEach(id=>{
        const leaf = document.getElementById(id);
        leaf.style.opacity = "1";
        leaf.style.transform = "scale(1)";
    });
}, 5000);
// Tán trên
setTimeout(() => {
    ["leafTop1","leafTop2","leafTop3"].forEach(id=>{
        const leaf = document.getElementById(id);
        leaf.style.opacity = "1";
        leaf.style.transform = "scale(1)";
    });
}, 5500);
// Ảnh chạy vào
setTimeout(() => {
    document.getElementById("imgLeft").classList.add("show-left");
    document.getElementById("imgRight").classList.add("show-right");
}, 6000);

// Trái tim bay
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.style.background = `hsl(${Math.random()*30+340}, 80%, 60%)`;
    heart.style.left = `${Math.random() * window.innerWidth}px`;
    heart.style.animationDuration = `${4 + Math.random() * 3}s`;
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 8000);
}
setInterval(createHeart, 500);
</script>

</body>
</html>
